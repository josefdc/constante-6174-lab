import{r as e,j as a}from"./three-vendor--4Ld4C0w.js";import{N as s}from"./NostalgiaIntro-DuYtWvFk.js";import"./react-vendor-DZJm6EwP.js";const i={butterfliesDelay:500,sparklesDelay:800,typingSpeed:45},r={layers:5,butterfliesPerLayer:12,baseRadius:30,radiusIncrement:15,baseDuration:8,durationVariance:4,baseSize:2,sizeVariance:1.5,baseRotationSpeed:3,rotationVariance:2},l={count:50,maxDelay:5,baseDuration:2,durationVariance:3,baseSize:.5,sizeVariance:.8},t={line1:"No sÃ© si sean las mariposas amarillas del realismo mÃ¡gico,",line2:"o las mariposas que me dan en el estÃ³mago mientras escribo esto,",line3:"o las mariposas que aletean a nuestro favor...",line4:"Pero cada una de ellas vuela hacia ti, Pau.",line6:"Y yo las sigo."},n=[{lineKey:"line1",delay:1500},{lineKey:"line2",delay:4e3},{lineKey:"line3",delay:6800},{lineKey:"line4",delay:9500},{lineKey:"line6",delay:11500}];function o(){const[o,c]=e.useState(!0),[d,u]=e.useState(!1),[m,y]=e.useState(!1),h=((a,s,i)=>{const[r,l]=e.useState(Object.keys(a).reduce((e,a)=>({...e,[a]:""}),{}));return e.useEffect(()=>{const e=[],r=[];return s.forEach(({lineKey:s,delay:t})=>{const n=a[s];if(!n)return;const o=setTimeout(()=>{let e=0;const a=setInterval(()=>{e<=n.length?(l(a=>({...a,[s]:n.substring(0,e)})),e++):clearInterval(a)},i);r.push(a)},t);e.push(o)}),()=>{e.forEach(e=>clearTimeout(e)),r.forEach(e=>clearInterval(e))}},[a,s,i]),r})(t,n,i.typingSpeed),p=e.useMemo(()=>(e=>{const a=[],{layers:s,butterfliesPerLayer:i,baseRadius:r,radiusIncrement:l,baseDuration:t,durationVariance:n,baseSize:o,sizeVariance:c,baseRotationSpeed:d,rotationVariance:u}=e;for(let m=0;m<s;m++)for(let e=0;e<i;e++)a.push({id:`${m}-${e}`,angle:e/i*360,radius:r+m*l,delay:.3*m+.1*e,duration:t+Math.random()*n,size:o+Math.random()*c,rotationSpeed:d+Math.random()*u});return a})(r),[]),b=e.useMemo(()=>(({count:e,maxDelay:a,baseDuration:s,durationVariance:i,baseSize:r,sizeVariance:l})=>Array.from({length:e},(e,t)=>({id:t,x:100*Math.random(),y:100*Math.random(),delay:Math.random()*a,duration:s+Math.random()*i,size:r+Math.random()*l})))(l),[]);e.useEffect(()=>{const e=setTimeout(()=>u(!0),i.butterfliesDelay),a=setTimeout(()=>y(!0),i.sparklesDelay);return()=>{clearTimeout(e),clearTimeout(a)}},[]);const f=e.useCallback(e=>a.jsx("div",{className:"butterfly-orbit",style:{"--angle":`${e.angle}deg`,"--radius":`${e.radius}%`,"--delay":`${e.delay}s`,"--duration":`${e.duration}s`,"--rotation-speed":`${e.rotationSpeed}s`},children:a.jsx("span",{className:"butterfly",style:{fontSize:`${e.size}rem`,animationDelay:`${e.delay}s`},role:"img","aria-label":"mariposa",children:"ğŸ¦‹"})},e.id),[]),x=e.useCallback(e=>a.jsx("div",{className:"golden-sparkle",style:{left:`${e.x}%`,top:`${e.y}%`,animationDelay:`${e.delay}s`,animationDuration:`${e.duration}s`,fontSize:`${e.size}rem`},role:"img","aria-label":"destello",children:"âœ¨"},e.id),[]);return o?a.jsx(s,{onContinue:()=>c(!1)}):a.jsxs("div",{className:"butterfly-easter-egg-container",role:"article","aria-label":"Easter egg mariposas",children:[d&&a.jsx("div",{className:"tornado-container","aria-hidden":"true",children:p.map(f)}),m&&a.jsx("div",{className:"sparkles-background","aria-hidden":"true",children:b.map(x)}),a.jsxs("div",{className:"butterfly-content",children:[a.jsxs("header",{className:"monarch-header",children:[a.jsx("h1",{className:"date-number",children:"1110"}),a.jsx("p",{className:"date-subtitle",children:"DÃ­a de la Mariposa Monarca"})]}),a.jsxs("article",{className:"butterfly-message-box",children:[a.jsx("p",{className:"butterfly-line italic","aria-live":"polite",children:h.line1}),a.jsx("p",{className:"butterfly-line italic","aria-live":"polite",children:h.line2}),a.jsx("p",{className:"butterfly-line italic","aria-live":"polite",children:h.line3}),a.jsx("div",{className:"butterfly-spacer","aria-hidden":"true"}),a.jsx("p",{className:"butterfly-line main","aria-live":"polite",children:h.line4}),a.jsx("div",{className:"butterfly-spacer-small","aria-hidden":"true"}),a.jsx("p",{className:"butterfly-line emphasis","aria-live":"polite",children:h.line6})]}),a.jsxs("footer",{className:"chaos-footer",children:[a.jsx("span",{className:"chaos-symbol",role:"img","aria-label":"tornado",children:"ğŸŒªï¸"}),a.jsx("span",{className:"chaos-text",children:"Efecto Mariposa"}),a.jsx("span",{className:"chaos-symbol",role:"img","aria-label":"tornado",children:"ğŸŒªï¸"})]})]})]})}export{o as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EasterEgg-BJTo0W8N.js","assets/three-vendor--4Ld4C0w.js","assets/react-vendor-DZJm6EwP.js","assets/EasterEgg-Cosf4ABZ.css","assets/LetterEasterEgg-BVy7IMnr.js","assets/LetterEasterEgg-BnZkH0OV.css","assets/ButterflyEasterEgg-CwWGWcLa.js","assets/ButterflyEasterEgg-D8G6loeZ.css","assets/BunnyEasterEgg-CErlqvcB.js","assets/BunnyEasterEgg-ezG0z6eU.css","assets/index-DM5eOZ6v.js","assets/icons-vendor-D3u6UuK1.js","assets/index-CETI9d_g.css","assets/ChocolateEasterEgg-PVdn4pgp.js","assets/ChocolateEasterEgg-Fn-lFBl8.css","assets/DinnerInviteEasterEgg-Blw2AWWu.js","assets/DinnerInviteEasterEgg-DAgftWqa.css"])))=>i.map(i=>d[i]);
import{r as e,j as s,_ as t,c as r}from"./three-vendor--4Ld4C0w.js";import"./react-vendor-DZJm6EwP.js";function n(e){const s=function(e){return e.split("").sort((e,s)=>s-e).join("")}(e),t=function(e){return e.split("").sort((e,s)=>e-s).join("")}(e),r=parseInt(s)-parseInt(t);return{input:e,largest:s,smallest:t,result:String(r).padStart(4,"0"),largestNum:parseInt(s),smallestNum:parseInt(t),resultNum:r}}function i(e,s=10){const t=function(e){const s=String(e).padStart(4,"0");return 4!==s.length?{valid:!1,error:"Must be a 4-digit number"}:/^\d{4}$/.test(s)?1===new Set(s).size?{valid:!1,error:"All digits cannot be identical"}:{valid:!0,error:null,normalized:s}:{valid:!1,error:"Must contain only digits"}}(e);if(!t.valid)return{success:!1,error:t.error,steps:[]};if("0826"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"convergence"};if("0710"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"letter"};if("1110"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"butterfly"};if("1101"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"bunny"};if("3141"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"polytorus"};if("2741"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"chocolate"};if("0102"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"dinner"};const r=[];let i=t.normalized,a=0;if("6174"===i){const e=n(i);return r.push(e),{success:!0,steps:r,iterations:1,converged:!0,isEasterEgg:!1,wasAlreadyConverged:!0}}for(;"6174"!==i&&a<s;){const e=n(i);r.push(e),i=e.result,a++}return{success:!0,steps:r,iterations:a,converged:"6174"===i,isEasterEgg:!1}}function a(e){return e.split("").map((s,t)=>({value:s,position:t,id:`${e}-${t}`}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const l=e.memo(function({step:t,stepNumber:r}){const{inputDigits:n,largestDigits:i,smallestDigits:l,resultDigits:c}=e.useMemo(()=>({inputDigits:a(t.input),largestDigits:a(t.largest),smallestDigits:a(t.smallest),resultDigits:a(t.result)}),[t.input,t.largest,t.smallest,t.result]);return s.jsxs("div",{className:"step-display",children:[s.jsxs("div",{className:"step-section",children:[s.jsx("h3",{className:"step-label",children:"Starting Number"}),s.jsx("div",{className:"digit-container",children:n.map((e,t)=>s.jsx("span",{className:"digit digit-input",children:e.value},e.id))})]}),s.jsx("div",{className:"arrow-down",children:"â†“"}),s.jsxs("div",{className:"step-section",children:[s.jsx("h3",{className:"step-label",children:"Sort Descending (Largest)"}),s.jsx("div",{className:"digit-container",children:i.map((e,t)=>s.jsx("span",{className:"digit digit-largest",children:e.value},e.id))}),s.jsx("div",{className:"number-value",children:t.largestNum})]}),s.jsx("div",{className:"operation-symbol","aria-label":"minus",children:s.jsx("span",{className:"operation-line"})}),s.jsxs("div",{className:"step-section",children:[s.jsx("h3",{className:"step-label",children:"Sort Ascending (Smallest)"}),s.jsx("div",{className:"digit-container",children:l.map((e,t)=>s.jsx("span",{className:"digit digit-smallest",children:e.value},e.id))}),s.jsx("div",{className:"number-value",children:t.smallestNum})]}),s.jsx("div",{className:"arrow-down",children:"â†“"}),s.jsxs("div",{className:"step-section result-section "+("6174"===t.result?"final-result":""),children:[s.jsx("h3",{className:"step-label",children:"Result"}),s.jsx("div",{className:"digit-container",children:c.map((e,r)=>s.jsx("span",{className:"digit digit-result "+("6174"===t.result?"digit-final":""),children:e.value},e.id))}),s.jsxs("div",{className:"calculation",children:[t.largestNum," âˆ’ ",t.smallestNum," = ",t.resultNum]})]})]})});function c({sequence:t,currentStep:r,onStepChange:n,isPlaying:i,onPlayingChange:a}){const c=t.steps.length;e.useEffect(()=>{if(!i)return;if(r>=c-1)return void a(!1);const e=setTimeout(()=>{n(r+1)},2e3);return()=>clearTimeout(e)},[i,r,c,n,a]);const o=e.useCallback(()=>{r>=c-1&&n(0),a(!0)},[r,c,n,a]),d=e.useCallback(()=>{a(!1)},[a]),u=e.useCallback(()=>{r<c-1&&n(r+1)},[r,c,n]),m=e.useCallback(()=>{r>0&&n(r-1)},[r,n]),g=e.useCallback(e=>{i||n(e)},[i,n]),p=t.steps[r],h="6174"===p.result;return s.jsxs("div",{className:"kaprekar-visualizer",children:[s.jsxs("div",{className:"progress-indicator",children:[s.jsxs("span",{className:"step-counter",children:["Step ",r+1," of ",c]}),h&&s.jsx("span",{className:"convergence-badge",children:"ðŸŽ¯ Converged to 6174!"})]}),s.jsx(l,{step:p,stepNumber:r+1}),s.jsxs("div",{className:"controls",children:[s.jsx("button",{onClick:m,disabled:0===r||i,className:"btn btn-control",title:"Previous step",children:"â® Prev"}),i?s.jsx("button",{onClick:d,className:"btn btn-control btn-pause",title:"Pause animation",children:"â¸ Pause"}):s.jsx("button",{onClick:o,className:"btn btn-control btn-play",title:"Play animation",children:"â–¶ Play"}),s.jsx("button",{onClick:u,disabled:r>=c-1||i,className:"btn btn-control",title:"Next step",children:"Next â­"})]}),s.jsx("div",{className:"step-timeline",children:t.steps.map((e,t)=>s.jsx("div",{className:`timeline-dot ${t===r?"active":""} ${t<r?"completed":""}`,style:{"--index":t},onClick:()=>g(t),title:`Step ${t+1}: ${e.result}`,children:"6174"===e.result?"ðŸŽ¯":t+1},t))})]})}function o({onStart:t,onReset:r,disabled:n}){const[i,a]=e.useState(""),[l,c]=e.useState(""),o=e.useCallback(e=>{const s=e.target.value.replace(/\D/g,"").slice(0,4);a(s),c("")},[]),d=e.useCallback(e=>{e.preventDefault(),i?i.length<4?c("Number must be 4 digits"):t(i):c("Please enter a number")},[i,t]),u=e.useCallback(()=>{let e;do{e=Math.floor(9e3*Math.random())+1e3}while(1===new Set(String(e)).size);a(String(e)),c("")},[]);return s.jsx("div",{className:"input-panel",children:s.jsx("form",{onSubmit:d,className:"input-form",children:s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"number-input",children:"Enter a 4-digit number:"}),s.jsxs("div",{className:"input-controls",children:[s.jsx("input",{id:"number-input",type:"text",value:i,onChange:o,placeholder:"e.g., 3524",disabled:n,className:l?"error":"",maxLength:4,autoComplete:"off"}),s.jsx("button",{type:"button",onClick:u,disabled:n,className:"btn btn-secondary",title:"Generate random number",children:"ðŸŽ²"}),s.jsx("button",{type:"submit",disabled:n||!i,className:"btn btn-primary",children:"Start"}),s.jsx("button",{type:"button",onClick:r,className:"btn btn-tertiary",children:"Reset"})]}),l&&s.jsx("span",{className:"error-message",children:l})]})})})}const d=e.lazy(()=>t(()=>import("./EasterEgg-BJTo0W8N.js"),__vite__mapDeps([0,1,2,3]))),u=e.lazy(()=>t(()=>import("./LetterEasterEgg-BVy7IMnr.js"),__vite__mapDeps([4,1,2,5]))),m=e.lazy(()=>t(()=>import("./ButterflyEasterEgg-CwWGWcLa.js"),__vite__mapDeps([6,1,2,7]))),g=e.lazy(()=>t(()=>import("./BunnyEasterEgg-CErlqvcB.js"),__vite__mapDeps([8,1,2,9]))),p=e.lazy(()=>t(()=>import("./index-DM5eOZ6v.js"),__vite__mapDeps([10,1,2,11,12]))),h=e.lazy(()=>t(()=>import("./ChocolateEasterEgg-PVdn4pgp.js"),__vite__mapDeps([13,1,2,14]))),j=e.lazy(()=>t(()=>import("./DinnerInviteEasterEgg-Blw2AWWu.js"),__vite__mapDeps([15,1,2,16])));function x(){const[t,r]=e.useState(null),[n,a]=e.useState(0),[l,x]=e.useState(!1),[b,N]=e.useState(!1),[v,f]=e.useState(null),E=()=>{r(null),a(0),x(!1),N(!1),f(null)};return s.jsxs("div",{className:"app",children:[s.jsxs("header",{className:"app-header",children:[s.jsx("h1",{children:"Kaprekar's Constant: 6174"}),s.jsx("p",{className:"subtitle",children:"Watch any 4-digit number converge to the mysterious constant"})]}),s.jsxs("main",{className:"app-main",children:[s.jsx(o,{onStart:e=>{const s=i(e);s.success?s.isEasterEgg?(N(!0),f(s.easterEggType),r(null)):(N(!1),f(null),r(s),a(0),x(!1)):alert(s.error)},onReset:E,disabled:l}),s.jsxs(e.Suspense,{fallback:s.jsx("div",{className:"loading-easter-egg","aria-label":"Cargando contenido especial"}),children:[b&&"convergence"===v&&s.jsx(d,{}),b&&"letter"===v&&s.jsx(u,{}),b&&"butterfly"===v&&s.jsx(m,{}),b&&"bunny"===v&&s.jsx(g,{}),b&&"polytorus"===v&&s.jsx(p,{onClose:E}),b&&"chocolate"===v&&s.jsx(h,{}),b&&"dinner"===v&&s.jsx(j,{onClose:E})]}),t&&!b&&s.jsx(c,{sequence:t,currentStep:n,onStepChange:a,isPlaying:l,onPlayingChange:x}),!t&&!b&&s.jsx("div",{className:"welcome-message",children:s.jsxs("div",{className:"info-card",children:[s.jsx("h2",{children:"How It Works"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Take any 4-digit number (digits not all the same)"}),s.jsx("li",{children:"Arrange digits in descending order"}),s.jsx("li",{children:"Arrange digits in ascending order"}),s.jsx("li",{children:"Subtract the smaller from the larger"}),s.jsx("li",{children:"Repeat with the result"})]}),s.jsxs("p",{className:"highlight",children:["âœ¨ You will ",s.jsx("strong",{children:"always"})," reach 6174!"]})]})})]}),s.jsx("footer",{className:"app-footer",children:s.jsx("p",{children:"Named after Indian mathematician D.R. Kaprekar (1905â€“1986)"})})]})}r.createRoot(document.getElementById("root")).render(s.jsx(e.StrictMode,{children:s.jsx(x,{})}));

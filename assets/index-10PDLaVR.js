const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EasterEgg-BJTo0W8N.js","assets/three-vendor--4Ld4C0w.js","assets/react-vendor-DZJm6EwP.js","assets/EasterEgg-Cosf4ABZ.css","assets/LetterEasterEgg-C500yYfH.js","assets/LetterEasterEgg-BUh-5HHX.css","assets/ButterflyEasterEgg-BfhR8ksE.js","assets/ButterflyEasterEgg-tvl8LuFl.css","assets/BunnyEasterEgg-Dk6CwlR-.js","assets/BunnyEasterEgg-BfG6DRpP.css","assets/index-BfTavP1e.js","assets/icons-vendor-D3u6UuK1.js","assets/index-CETI9d_g.css","assets/ChocolateEasterEgg-PVdn4pgp.js","assets/ChocolateEasterEgg-Fn-lFBl8.css","assets/DinnerInviteEasterEgg-XA32EU6W.js","assets/DinnerInviteEasterEgg-DAgftWqa.css"])))=>i.map(i=>d[i]);
import{j as e,r as s,_ as t,c as r}from"./three-vendor--4Ld4C0w.js";import"./react-vendor-DZJm6EwP.js";function n(e){const s=function(e){return e.split("").sort((e,s)=>s-e).join("")}(e),t=function(e){return e.split("").sort((e,s)=>e-s).join("")}(e),r=parseInt(s)-parseInt(t);return{input:e,largest:s,smallest:t,result:String(r).padStart(4,"0"),largestNum:parseInt(s),smallestNum:parseInt(t),resultNum:r}}function i(e,s=10){const t=function(e){const s=String(e).padStart(4,"0");return 4!==s.length?{valid:!1,error:"Must be a 4-digit number"}:/^\d{4}$/.test(s)?1===new Set(s).size?{valid:!1,error:"All digits cannot be identical"}:{valid:!0,error:null,normalized:s}:{valid:!1,error:"Must contain only digits"}}(e);if(!t.valid)return{success:!1,error:t.error,steps:[]};if("0826"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"convergence"};if("0710"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"letter"};if("1110"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"butterfly"};if("1101"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"bunny"};if("3141"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"polytorus"};if("2741"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"chocolate"};if("0102"===t.normalized)return{success:!0,steps:[],iterations:0,converged:!1,isEasterEgg:!0,easterEggType:"dinner"};const r=[];let i=t.normalized,a=0;if("6174"===i){const e=n(i);return r.push(e),{success:!0,steps:r,iterations:1,converged:!0,isEasterEgg:!1,wasAlreadyConverged:!0}}for(;"6174"!==i&&a<s;){const e=n(i);r.push(e),i=e.result,a++}return{success:!0,steps:r,iterations:a,converged:"6174"===i,isEasterEgg:!1}}function a(e){return e.split("").map((e,s)=>({value:e,position:s,id:`${e}-${s}-${Math.random()}`}))}function l({step:s,stepNumber:t}){const r=a(s.input),n=a(s.largest),i=a(s.smallest),l=a(s.result);return e.jsxs("div",{className:"step-display",children:[e.jsxs("div",{className:"step-section",children:[e.jsx("h3",{className:"step-label",children:"Starting Number"}),e.jsx("div",{className:"digit-container",children:r.map((s,t)=>e.jsx("span",{className:"digit digit-input",children:s.value},s.id))})]}),e.jsx("div",{className:"arrow-down",children:"â†“"}),e.jsxs("div",{className:"step-section",children:[e.jsx("h3",{className:"step-label",children:"Sort Descending (Largest)"}),e.jsx("div",{className:"digit-container",children:n.map((s,t)=>e.jsx("span",{className:"digit digit-largest",children:s.value},s.id))}),e.jsx("div",{className:"number-value",children:s.largestNum})]}),e.jsx("div",{className:"operation-symbol",children:"âˆ’"}),e.jsxs("div",{className:"step-section",children:[e.jsx("h3",{className:"step-label",children:"Sort Ascending (Smallest)"}),e.jsx("div",{className:"digit-container",children:i.map((s,t)=>e.jsx("span",{className:"digit digit-smallest",children:s.value},s.id))}),e.jsx("div",{className:"number-value",children:s.smallestNum})]}),e.jsx("div",{className:"arrow-down",children:"â†“"}),e.jsxs("div",{className:"step-section result-section",children:[e.jsx("h3",{className:"step-label",children:"Result"}),e.jsx("div",{className:"digit-container",children:l.map((t,r)=>e.jsx("span",{className:"digit digit-result "+("6174"===s.result?"digit-final":""),children:t.value},t.id))}),e.jsxs("div",{className:"calculation",children:[s.largestNum," âˆ’ ",s.smallestNum," = ",s.resultNum]})]})]})}function c({sequence:t,currentStep:r,onStepChange:n,isPlaying:i,onPlayingChange:a}){const c=t.steps.length;s.useEffect(()=>{if(!i)return;if(r>=c-1)return void a(!1);const e=setTimeout(()=>{n(r+1)},2e3);return()=>clearTimeout(e)},[i,r,c,n,a]);const o=t.steps[r],d="6174"===o.result;return e.jsxs("div",{className:"kaprekar-visualizer",children:[e.jsxs("div",{className:"progress-indicator",children:[e.jsxs("span",{className:"step-counter",children:["Step ",r+1," of ",c]}),d&&e.jsx("span",{className:"convergence-badge",children:"ðŸŽ¯ Converged to 6174!"})]}),e.jsx(l,{step:o,stepNumber:r+1}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{onClick:()=>{r>0&&n(r-1)},disabled:0===r||i,className:"btn btn-control",title:"Previous step",children:"â® Prev"}),i?e.jsx("button",{onClick:()=>{a(!1)},className:"btn btn-control btn-pause",title:"Pause animation",children:"â¸ Pause"}):e.jsx("button",{onClick:()=>{r>=c-1&&n(0),a(!0)},className:"btn btn-control btn-play",title:"Play animation",children:"â–¶ Play"}),e.jsx("button",{onClick:()=>{r<c-1&&n(r+1)},disabled:r>=c-1||i,className:"btn btn-control",title:"Next step",children:"Next â­"})]}),e.jsx("div",{className:"step-timeline",children:t.steps.map((s,t)=>e.jsx("div",{className:`timeline-dot ${t===r?"active":""} ${t<r?"completed":""}`,onClick:()=>!i&&n(t),title:`Step ${t+1}: ${s.result}`,children:"6174"===s.result?"ðŸŽ¯":t+1},t))})]})}function o({onStart:t,onReset:r,disabled:n}){const[i,a]=s.useState(""),[l,c]=s.useState("");return e.jsx("div",{className:"input-panel",children:e.jsx("form",{onSubmit:e=>{e.preventDefault(),i?i.length<4?c("Number must be 4 digits"):t(i):c("Please enter a number")},className:"input-form",children:e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"number-input",children:"Enter a 4-digit number:"}),e.jsxs("div",{className:"input-controls",children:[e.jsx("input",{id:"number-input",type:"text",value:i,onChange:e=>{const s=e.target.value.replace(/\D/g,"").slice(0,4);a(s),c("")},placeholder:"e.g., 3524",disabled:n,className:l?"error":"",maxLength:4,autoComplete:"off"}),e.jsx("button",{type:"button",onClick:()=>{let e;do{e=Math.floor(9e3*Math.random())+1e3}while(1===new Set(String(e)).size);a(String(e)),c("")},disabled:n,className:"btn btn-secondary",title:"Generate random number",children:"ðŸŽ²"}),e.jsx("button",{type:"submit",disabled:n||!i,className:"btn btn-primary",children:"Start"}),e.jsx("button",{type:"button",onClick:r,className:"btn btn-tertiary",children:"Reset"})]}),l&&e.jsx("span",{className:"error-message",children:l})]})})})}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const d=s.lazy(()=>t(()=>import("./EasterEgg-BJTo0W8N.js"),__vite__mapDeps([0,1,2,3]))),u=s.lazy(()=>t(()=>import("./LetterEasterEgg-C500yYfH.js"),__vite__mapDeps([4,1,2,5]))),m=s.lazy(()=>t(()=>import("./ButterflyEasterEgg-BfhR8ksE.js"),__vite__mapDeps([6,1,2,7]))),g=s.lazy(()=>t(()=>import("./BunnyEasterEgg-Dk6CwlR-.js"),__vite__mapDeps([8,1,2,9]))),p=s.lazy(()=>t(()=>import("./index-BfTavP1e.js"),__vite__mapDeps([10,1,2,11,12]))),h=s.lazy(()=>t(()=>import("./ChocolateEasterEgg-PVdn4pgp.js"),__vite__mapDeps([13,1,2,14]))),j=s.lazy(()=>t(()=>import("./DinnerInviteEasterEgg-XA32EU6W.js"),__vite__mapDeps([15,1,2,16])));function x(){const[t,r]=s.useState(null),[n,a]=s.useState(0),[l,x]=s.useState(!1),[b,N]=s.useState(!1),[v,f]=s.useState(null),E=()=>{r(null),a(0),x(!1),N(!1),f(null)};return e.jsxs("div",{className:"app",children:[e.jsxs("header",{className:"app-header",children:[e.jsx("h1",{children:"Kaprekar's Constant: 6174"}),e.jsx("p",{className:"subtitle",children:"Watch any 4-digit number converge to the mysterious constant"})]}),e.jsxs("main",{className:"app-main",children:[e.jsx(o,{onStart:e=>{const s=i(e);s.success?s.isEasterEgg?(N(!0),f(s.easterEggType),r(null)):(N(!1),f(null),r(s),a(0),x(!1)):alert(s.error)},onReset:E,disabled:l}),e.jsxs(s.Suspense,{fallback:e.jsx("div",{className:"loading-easter-egg","aria-label":"Cargando contenido especial"}),children:[b&&"convergence"===v&&e.jsx(d,{}),b&&"letter"===v&&e.jsx(u,{}),b&&"butterfly"===v&&e.jsx(m,{}),b&&"bunny"===v&&e.jsx(g,{}),b&&"polytorus"===v&&e.jsx(p,{onClose:E}),b&&"chocolate"===v&&e.jsx(h,{}),b&&"dinner"===v&&e.jsx(j,{onClose:E})]}),t&&!b&&e.jsx(c,{sequence:t,currentStep:n,onStepChange:a,isPlaying:l,onPlayingChange:x}),!t&&!b&&e.jsx("div",{className:"welcome-message",children:e.jsxs("div",{className:"info-card",children:[e.jsx("h2",{children:"How It Works"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Take any 4-digit number (digits not all the same)"}),e.jsx("li",{children:"Arrange digits in descending order"}),e.jsx("li",{children:"Arrange digits in ascending order"}),e.jsx("li",{children:"Subtract the smaller from the larger"}),e.jsx("li",{children:"Repeat with the result"})]}),e.jsxs("p",{className:"highlight",children:["âœ¨ You will ",e.jsx("strong",{children:"always"})," reach 6174!"]})]})})]}),e.jsx("footer",{className:"app-footer",children:e.jsx("p",{children:"Named after Indian mathematician D.R. Kaprekar (1905â€“1986)"})})]})}r.createRoot(document.getElementById("root")).render(e.jsx(s.StrictMode,{children:e.jsx(x,{})}));

import{r as e,j as a}from"./index-DqyAnWtk.js";import"./react-vendor-Bs9WG82D.js";const s={butterfliesDelay:500,sparklesDelay:800,typingSpeed:45},i={layers:5,butterfliesPerLayer:12,baseRadius:30,radiusIncrement:15,baseDuration:8,durationVariance:4,baseSize:2,sizeVariance:1.5,baseRotationSpeed:3,rotationVariance:2},l={count:50,maxDelay:5,baseDuration:2,durationVariance:3,baseSize:.5,sizeVariance:.8},r={line1:"No s√© si sean las mariposas amarillas del realismo m√°gico,",line2:"o las mariposas que me dan en el est√≥mago mientras escribo esto,",line3:"o las mariposas que aletean a nuestro favor...",line4:"Pero cada una de ellas vuela hacia ti, Pau.",line6:"Y yo las sigo."},t=[{lineKey:"line1",delay:1500},{lineKey:"line2",delay:4e3},{lineKey:"line3",delay:6800},{lineKey:"line4",delay:9500},{lineKey:"line6",delay:11500}];function n(){const[n,o]=e.useState(!1),[c,d]=e.useState(!1),u=((a,s,i)=>{const[l,r]=e.useState(Object.keys(a).reduce((e,a)=>({...e,[a]:""}),{}));return e.useEffect(()=>{const e=[],l=[];return s.forEach(({lineKey:s,delay:t})=>{const n=a[s];if(!n)return;const o=setTimeout(()=>{let e=0;const a=setInterval(()=>{e<=n.length?(r(a=>({...a,[s]:n.substring(0,e)})),e++):clearInterval(a)},i);l.push(a)},t);e.push(o)}),()=>{e.forEach(e=>clearTimeout(e)),l.forEach(e=>clearInterval(e))}},[a,s,i]),l})(r,t,s.typingSpeed),m=e.useMemo(()=>(e=>{const a=[],{layers:s,butterfliesPerLayer:i,baseRadius:l,radiusIncrement:r,baseDuration:t,durationVariance:n,baseSize:o,sizeVariance:c,baseRotationSpeed:d,rotationVariance:u}=e;for(let m=0;m<s;m++)for(let e=0;e<i;e++)a.push({id:`${m}-${e}`,angle:e/i*360,radius:l+m*r,delay:.3*m+.1*e,duration:t+Math.random()*n,size:o+Math.random()*c,rotationSpeed:d+Math.random()*u});return a})(i),[]),y=e.useMemo(()=>(({count:e,maxDelay:a,baseDuration:s,durationVariance:i,baseSize:l,sizeVariance:r})=>Array.from({length:e},(e,t)=>({id:t,x:100*Math.random(),y:100*Math.random(),delay:Math.random()*a,duration:s+Math.random()*i,size:l+Math.random()*r})))(l),[]);e.useEffect(()=>{const e=setTimeout(()=>o(!0),s.butterfliesDelay),a=setTimeout(()=>d(!0),s.sparklesDelay);return()=>{clearTimeout(e),clearTimeout(a)}},[]);const h=e.useCallback(e=>a.jsx("div",{className:"butterfly-orbit",style:{"--angle":`${e.angle}deg`,"--radius":`${e.radius}%`,"--delay":`${e.delay}s`,"--duration":`${e.duration}s`,"--rotation-speed":`${e.rotationSpeed}s`},children:a.jsx("span",{className:"butterfly",style:{fontSize:`${e.size}rem`,animationDelay:`${e.delay}s`},role:"img","aria-label":"mariposa",children:"ü¶ã"})},e.id),[]),p=e.useCallback(e=>a.jsx("div",{className:"golden-sparkle",style:{left:`${e.x}%`,top:`${e.y}%`,animationDelay:`${e.delay}s`,animationDuration:`${e.duration}s`,fontSize:`${e.size}rem`},role:"img","aria-label":"destello",children:"‚ú®"},e.id),[]);return a.jsxs("div",{className:"butterfly-easter-egg-container",role:"article","aria-label":"Easter egg mariposas",children:[n&&a.jsx("div",{className:"tornado-container","aria-hidden":"true",children:m.map(h)}),c&&a.jsx("div",{className:"sparkles-background","aria-hidden":"true",children:y.map(p)}),a.jsxs("div",{className:"butterfly-content",children:[a.jsxs("header",{className:"monarch-header",children:[a.jsx("h1",{className:"date-number",children:"1110"}),a.jsx("p",{className:"date-subtitle",children:"D√≠a de la Mariposa Monarca"})]}),a.jsxs("article",{className:"butterfly-message-box",children:[a.jsx("p",{className:"butterfly-line italic","aria-live":"polite",children:u.line1}),a.jsx("p",{className:"butterfly-line italic","aria-live":"polite",children:u.line2}),a.jsx("p",{className:"butterfly-line italic","aria-live":"polite",children:u.line3}),a.jsx("div",{className:"butterfly-spacer","aria-hidden":"true"}),a.jsx("p",{className:"butterfly-line main","aria-live":"polite",children:u.line4}),a.jsx("div",{className:"butterfly-spacer-small","aria-hidden":"true"}),a.jsx("p",{className:"butterfly-line emphasis","aria-live":"polite",children:u.line6})]}),a.jsxs("footer",{className:"chaos-footer",children:[a.jsx("span",{className:"chaos-symbol",role:"img","aria-label":"tornado",children:"üå™Ô∏è"}),a.jsx("span",{className:"chaos-text",children:"Efecto Mariposa"}),a.jsx("span",{className:"chaos-symbol",role:"img","aria-label":"tornado",children:"üå™Ô∏è"})]})]})]})}export{n as default};
